# uri health module
> 记录uri_health,进度

#### 模块功能：
目前实现的功能对url进行基本的可访问情况检测，http,https域名访问

#### 模块开发进度：
* 基础需求
        添加跳转location抓取

#### 可优化功能：
超时一分钟以上pass

细化功能点

对页面进行判定

对抓下来的页面建立文件夹分类保存

开源软件安全审查git内容 安全代码检查
#### 需求：
* 基本需求：

  能够判断并输出http/https访问情况,重定向记录重定向地址（完成未优化），

  分类“缺少目录”“web应用无法访问服务器可用”“服务器不可用”

  是否能ping通(暂无)

  能否解析（暂无）

*  进阶需求：

  shodan api对接，调用第三方查询。

  nmap api对接  

* 高阶需求：

  引入自检





#### 功能点：
第一阶段：判断http/https访问情况，返回页面以及自定义状态（正常状态code，error，needcheck）(此阶段只能排除掉)
http/https访问情况获取并判断，以与实际用户访问一致为准。
http200时





第一阶段http以及https存在200时，且页面存在标签，并且标签不包含"it works"，title存在，判定访问正常

第一阶段http以及https为300/301时，对比重定向地址redirct地址与源域名是否同源，同源则获取页面以及相应状态redict_page,redict_code=gethttp(url).
（优化：循环重定向，限定重定向次数）

第一阶段http以及https为（目前没有限定死状态，这里应该做优化返回的值处理，应该分可以下一步和不能下一步的）

目前报错信息有：

HTTPError:
404,403,504...访问不到url，web应用无法访问但无法确定服务器是否开启。这时候有的情况是服务器返回了一个信息，但实际上urllib2获取的是erro，这时只能通过ping和域名解析情况获取信息。

URLRrror:
连接拒绝，ssl不安全等等，这些服务其实是开启的。



httperror情况进一步判定，使用proxy重新请求一遍，如果返回正常时，正常输出，错误则下一步。



（存在优化，通过代理尝试访问一波，有可能存在代理情况？这个目前不确定。创建待确定名单，或文件夹专门存储这类域名情况，并提示需要手工验证）

第二阶段：通过信息收集整合出完整情况。






分类“缺少目录”forbidden,页面没有标签，页面内容为json，
“web应用无法访问服务器可用”“服务器不可用”

ping域名，可以得到IP，返回ping结果。

#### 函数介绍：


主函数```__main__```：主线进程

output(): 输入字符，输出到文件，同时前缀日期时间.eg:```output("test").```

gethttp(): 判断并输出http/https访问情况，正确则返回str的页面以及状态码，否则"can't connect.","error"
